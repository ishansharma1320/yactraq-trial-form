<div class="outer-container">
  <h2> Yactraq Transcripts Trial </h2>
  
  <div class="form-container">
    <div *ngIf="formSubmitted === true && responseSuccess === true">
      <h3 style="margin-bottom: 10px;"> Form Submitted Successfully. Please Check your email</h3>
    <button type="button" mat-raised-button color="primary" style="width : 10em;"  (click)="goBackToForm()"> Go Back </button>
    </div>
    <div *ngIf="formSubmitted === true && responseSuccess === false">
      <h3 style="margin-bottom: 10px;"> Service Unavailable: Form Submission Failed, Try again after some time </h3>
      <button type="button" mat-raised-button color="primary" style="width : 10em;"  (click)="goBackToForm()"> Go Back </button>
    </div>
    <form *ngIf="formSubmitted === false" [formGroup]="trialForm" (submit)="submit()">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label> Name
        </mat-label>
        <input matInput formControlName="name" required>
        <mat-error *ngIf="trialForm.controls['name'].touched && trialForm.controls['name'].invalid">
          <span *ngIf="trialForm.controls['name'].errors !== null && trialForm.controls['name'].errors['required']">This field is mandatory.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label> E-mail
        </mat-label>
        <input matInput formControlName="email" required>
        <mat-error *ngIf="trialForm.controls['email'].touched && trialForm.controls['email'].invalid">
          <span *ngIf="trialForm.controls['email'].errors !== null && trialForm.controls['email'].errors['required']">This field is mandatory.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label> Select Language </mat-label>
        <mat-select formControlName="lang" required>
          <mat-option *ngFor="let lang of langList" [value]="lang.value">
            {{lang.viewValue}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="trialForm.controls['lang'].touched && trialForm.controls['lang'].invalid">
          <span *ngIf="trialForm.controls['lang'].errors !== null && trialForm.controls['lang'].errors['required']">This field is mandatory.</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>Select Plans (multiple) </mat-label>
        <mat-select multiple formControlName="plans" required>
          <mat-option *ngFor="let plan of plansList" [value]="plan.value">
            {{plan.viewValue}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="trialForm.controls['plans'].touched && trialForm.controls['plans'].invalid">
          <span *ngIf="trialForm.controls['plans'].errors !== null && trialForm.controls['plans'].errors['required']">This field is mandatory.</span>
        </mat-error>
      </mat-form-field>
      <div class="form-field upload-outer">
          <input #fileInput
              id="file" 
              type="file" 
              accept="audio/*"
              (change)="onFileChange($event)" required>
           
        
      </div>
      <button mat-raised-button color="primary" type="submit" [disabled]="!trialForm.valid" style="width : 10em;">Submit</button>
    </form>
  </div>
</div>